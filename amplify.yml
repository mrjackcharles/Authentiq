version: 1
applications:
    - appRoot: authentic-mvp
      frontend:
          phases:
              preBuild:
                  commands:
                      - nvm install 20
                      - nvm use 20
                      - node -v
                      - npm install
                      - npm ci
              build:
                  commands:
                      - npm run build
                      - env | grep FIREBASE
          artifacts:
              baseDirectory: .next
              files:
                  - "**/*"
          cache:
              paths:
                  - node_modules/**/*
                  - .next/cache/**/*
